<html>
    <head>
        <title>次世界</title>
        <link href="ben.css" rel="stylesheet">
        <script type="text/javascript" src="../../MasterCss/masterjs.js"></script>
        <script src="../../存档系统.js"></script>
        <a href="../结局3.不虚此行/jj3bxcx.html"></a>
        <a href="../结局4.亦真亦幻/jj4yzyh.html"></a>
        <script src="../../jquery.js"></script>
        <link href="../../MasterCSS/master.css" rel="stylesheet">
    </head>
    <body onclick="chooseC();"onselectstart="return false;">
        <div id="set" onclick="setting()"><p>设置</p></div>
        <div id="A"></div>
        <div id="B"></div>
        <div class = "button9">                   <!-- 选项盒子 -->
            <div id = "notice">许久的抽泣后，斯里选择：</div>
            <div id = "buttonA" onclick="chooseA();">回到飞科市，过完这虽然虚假但充满传奇的一生</div>
            <div id = "buttonB" onclick="chooseB();">跳入数据流中，离开这个世界</div>
        </div>
        <div id="dialog" class="dialog" onclick="bian();branchA();branchB();">
            <div class="pic"></div>
            <div id="box" class="box">
                <!-- 952*173 -->
                <div id="content" class="content"></div>   
            </div>
        </div>
        <div id="scroll_word" class="scroll_word">
            <!-- <div id="mar1"><marquee behavior="scroll" direction="left" loop="-1" scrollamount="30" scrolldelay="0"></marquee></div>
            <div id="mar2"><marquee behavior="scroll" direction="left" loop="-1" scrollamount="30" scrolldelay="0"></marquee></div>
            <div id="mar3"><marquee behavior="scroll" direction="left" loop="-1" scrollamount="30" scrolldelay="0"></marquee></div>
            <div id="mar4"><marquee behavior="scroll" direction="left" loop="-1" scrollamount="30" scrolldelay="0"></marquee></div> -->
            <div id="mar1"></div>
            <div id="mar2"></div>
            <div id="mar3"></div>
            <div id="mar4"></div>
        </div>
        <div id="sztc">
            <div class="sztc1">
                <h1>设置</h1>
                <div class="btn"><button class="button" onclick="save6()">存档</button></div>
                <div class="btn"><button class="button" onclick="getout()">退出</button></div>
                <div class="btn"><button class="button" onclick="setting()">返回</button></div>
            </div>
        </div>
        <div id="qdtc">
            <div class="qdtc1">
                <h1>确定退出？</h1>
                <div class="btn"><button class="button" onclick="save6(),backtoindex()">存档退出</button></div>
                <div class="btn"><button class="button" onclick="backtoindex()">直接退出</button></div>
                <div class="btn"><button class="button" onclick="getout()">返回</button></div>
            </div>
        </div>
        <div id="skipvd" onclick="skip()">->跳过</div>
    </body>
    <script>
        var a = ["斯里来到城墙最顶端，发现城外的只有无穷无尽浮动着的数据流"];
        var b = ["什么！这怎么可能！这一切…都是假的？",
                "都是假的，都是假的！罗伊尔是假的，三生公司是假的，飞科市是假的，整个世界都是假的！！！",
                "我所珍惜的一切，我想为之奋斗的一切，都是假的……",
                "连我本人，都只不过是更上层世界某个可能已经厌恶他所在的世界的人的意识投影……",
                "怎么…会这样，为什么，为什么，啊！！！！！",
                "斯里不断回望着被夕阳余晖染红的飞科市，依然是令他熟悉的温暖与嘈杂，只不过，他第一次觉得这座城市是如此的小，如此的不真实。",
                ];
        var c = ["我,我终究还是放不下啊，这里的一花一树，一草一木，春天的第一丝花香，夏天的第一声虫鸣，秋天的第一片落叶，冬天的第一场飞雪，甚至是那嘈杂轰鸣的机器声，都是我所热爱的一切啊！",
                "我来到飞科市，不就是为了让她变得更美丽，更有希望吗！我不能走，至少要在这里过完自己的一生，也算是，给外面的自己，有个交代……"];
        var d = ["不，这都不是真的！",
                "我要离开这里，离开这个鬼地方！！！",
                "斯里从游戏中猛然惊醒。",
                "游戏已经结束，稍后将传回玩家记忆信息。",
                "先不要慌张，沃尔兹先生，您刚体验完次世界游戏，现在还没有恢复原先的记忆，一会系统就会把您的记忆传输回来，请您耐心地等待一会。",
                "顺便提一句，您是从“次世界”发行到现在第一个以这种结束游戏的人，不愧是我们基纽因市的警界精英。",
                "现在…是哪一年……",
                "现在？现在是",
                "2021年。"];
        var scrollWord = ['“为什么你可以在所有考试中脱颖而出？”',
                        '“为什么你从未想过要离开这座城市？”',
                        '“为什么飞鸟会莫名消失？”',
                        '“无尽能源在理论是不可能存在的”',
                        '“你不能上去”',
                        '“我要保护你”',
                        '“这不是真的”',
                        '“我的小英雄”',
                        '“全都是假的”'];
        var output = a;
        var f = 0;
        var order = 0;
        var num = 0;
        var legal = true;
        var timer = null;
        var branch = 'main';
        var flag = false;
        var alpha = document.getElementById("content");
        alpha.innerHTML= output[0];
        var beta = document.getElementById("scroll_word");
        var height = alpha.clientHeight/4.5;                  //设置字体大小和行距
        $("#content").css("font-size",height+"px");
        $("#content").css("line-height",(height+5)+"px");
        function bian(){
            if(branch == 'main'){
                alpha.innerHTML = '';
                $("#A").css("opacity","0");
                $(".dialog").css("opacity","0");
                $(".scroll_word").css("opacity","1");
                timer = setInterval(function(){
                    $(".scroll_word").find("div").eq(order).html(scrollWord[num++]);
                    if(order == 3){
                        order = 0;
                    }else{
                        order++;
                    }
                    console.log(num);
                    if(num==10){
                        clearInterval(timer);
                        $("#mar1").css("opacity","0");
                        $("#mar2").css("opacity","0");
                        $("#mar3").css("opacity","0");
                        $("#mar4").css("opacity","0");
                        $("#scroll_word").html("你是“玩家”");
                        $("#scroll_word").css("font-size","100px");
                        $("#scroll_word").css("text-align","center");
                        $("#scroll_word").css("line-height","300px");
                        $("#scroll_word").css("font-weight","bold");
                        setTimeout(function(){
                            $(".dialog").css("opacity","1");
                            f = 0;
                            branch = "_main";
                            output = b;
                            beta.parentNode.removeChild(beta);
                            $("#A").css("background-image","url(./pictures/斯里震惊.png)");
                            $("#A").css("width","339px");
                            $("#A").css("height","1204px");
                            $("#A").css("bottom","-290px");
                            $("#A").css("left","-60px");
                            $("#A").css("opacity","1");
                            alpha.innerHTML= output[0];
                        },2000);
                        
                    }
                },600);
            }else if(branch == "_main"){
                if(f==0){
                    alpha.innerHTML= output[1];
                }else if(f==1){
                    alpha.innerHTML= output[2];
                }else if(f==2){
                    alpha.innerHTML= output[3];
                }else if(f==3){
                    alpha.innerHTML= output[4];
                }else if(f==4){
                    $("#A").css("opacity","0");
                    alpha.innerHTML= output[5];
                }else if(f==5){
                    $(".dialog").css("opacity","0");
                    $("#A").css("opacity","0");
                    $("#B").css("opacity","0");
                    $("#notice").css("opacity","1");
                    var timer = setTimeout(function(){
                        $("#buttonA").css("opacity","1");
                        $("#buttonB").css("opacity","1");
                        flag = true;
                    },700);
                }
                f++;
            }
        }
        function chooseA(){
            if(flag == true){
                f = 0;
                $(".dialog").css("opacity","1");
                $("#notice").css("opacity","0");
                $("#buttonA").css("opacity","0");
                $("#buttonB").css("opacity","0");
                $("#A").css("background-image","url(./pictures/斯里沉默.png)");
                $("#A").css("width","315px");
                $("#A").css("height","1116px");
                $("#A").css("bottom","-270px");
                $("#A").css("left","-50px");
                branch = 'A';
                output = c;
                $("#A").css("opacity","1");
                alpha.innerHTML= output[0];
                flag = false;
            }
        }
        function chooseB(){
            if(flag == true){
                f = 0;
                $(".dialog").css("opacity","1");
                $("#notice").css("opacity","0");
                $("#buttonA").css("opacity","0");
                $("#buttonB").css("opacity","0");
                $("#A").css("opacity","1");
                $("#A").css("background-image","url(./pictures/斯里震惊.png)");
                $("#A").css("width","339px");
                $("#A").css("height","1204px");
                $("#A").css("bottom","-290px");
                $("#A").css("left","-60px");
                $("#A").css("opacity","1");
                branch = 'B';
                output = d;
                alpha.innerHTML= output[0];
                flag = false;
            }
        }
        function branchA(){
            if(branch == 'A'){
                alpha.innerHTML = '';
                if(f==0){
                    alpha.innerHTML= output[1];
                }else if(f==1){
                    window.location.assign("../结局3.不虚此行/jj3bxcx.html");
                }
                f++;
            }
        }
        function branchB(){
            if(branch == 'B'&& legal){
                alpha.innerHTML = '';
                if(f==0){
                    alpha.innerHTML= output[1];
                }else if(f==1){
                    $(".dialog").css("opacity","0");
                    $("#A").css("opacity","0");
                    $("#B").css("opacity","0");
                    legal = false;
                    $("body").css("background-image","url(./pictures/2.gif)");
                    $("#skipvd").css("opacity","1");
                    setTimeout(function(){
                        $(".dialog").css("opacity","1");
                        $("#A").css("opacity","0");
                        $("body").css("background-image","url(./pictures/7.jpg)");
                        legal = true;
                        alpha.innerHTML= output[2];
                    },12000)
                }else if(f==2){ 
                    alpha.innerHTML= output[3];
                }else if(f==3){
                    $("#A").css("opacity","0");
                    $("#B").css("opacity","1");
                    alpha.innerHTML= output[4];
                }else if(f==4){
                    
                    alpha.innerHTML= output[5];
                }else if(f==5){
                    $("#A").css("background-image","url(./pictures/三次元斯里.png)");
                    $("#A").css("width","384px");
                    $("#A").css("height","391px");
                    $("#A").css("bottom","130px");
                    $("#A").css("left","-27px");
                    $("#A").css("transform","scale(1,1)");
                    $("#A").css("opacity","1");
                    $("#B").css("opacity","0");
                    alpha.innerHTML= output[6];
                }else if(f==6){
                    $("#A").css("opacity","0");
                    $("#B").css("opacity","1");
                    alpha.innerHTML= output[7];
                }else if(f==7){
                    alpha.innerHTML= output[8];
                }else if(f==8){
                    window.location.assign("../结局4.亦真亦幻/jj4yzyh.html");
                }
                f++;
            }
        }
        function skip(){
                        $("#skipvd").css("opacity","0");
                        $(".dialog").css("opacity","1");
                        $("#A").css("opacity","0");
                        $("body").css("background-image","url(./pictures/7.jpg)");
                        legal = true;
                        alpha.innerHTML= output[2];
                         }
    </script>
</html>